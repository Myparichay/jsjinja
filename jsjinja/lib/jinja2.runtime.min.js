(function(){__hasProp={}.hasOwnProperty;__extends=function(a,b){function d(){this.constructor=a}for(var e in b)__hasProp.call(b,e)&&(a[e]=b[e]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a};var g,c,l,m,o=[].indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1};m="undefined"!==typeof exports&&null!==exports?exports:this;l=function(a,b,d,e,c){d=d||{};return new g(e?d:c,a,b)};var k=function(){};k.prototype.add=function(a){return this[a]=
!0};k.prototype.remove=function(a){return delete this[a]};var h=function(){var a,b;this.blocks={};for(b in this)0===b.indexOf("block_")&&(a=b.slice(6),this.blocks[a]=this[b],this.blocks[a].__append_context__=!0)};h.prototype.root=function(){};h.prototype.render=function(a){var b;b=new g(null,null,this.blocks);b.vars=a;return this.root(b)};h.prototype.render_block=function(a,b){var d;d=new g(null,null,this.blocks);d.vars=b;return this["block_"+a](d)};h.prototype.module=function(){var a,b,d;a=new g;
this.root(a);d={};for(b in a.exported_vars)d[b]=a.vars[b];return d};h.prototype.new_context=function(a,b,d){return l(this.name,this.blocks,a,b,this.globals,d)};var j=function(a,b,d){var e;this.parent=a;this.vars={};this.blocks={};for(e in d)this.blocks[e]=[d[e]];this.exported_vars=new k};j.prototype["super"]=function(a,b){var d,e;d=this.blocks[a];e=d.indexOf(b)+1;return d[e]};j.prototype.resolve=function(a){var b;return this.vars[a]||(null!=(b=this.parent)?b.resolve(a):void 0)||c.globals[a]};j.prototype.call=
function(a,b,d){var e,c,n;if(a){c=!a.__args__?b:[];a.__append_context__&&c.push(this);a.__append_args__&&c.push(b);a.__append_kwargs__&&c.push(d);for(e in a.__args__)c.push(d[null!=(n=a.__args__)?n[e]:void 0]||b.pop());return a.apply(a.constructor||null,c)}};j.prototype.callfilter=function(a,b,d,c){var g;if(a){for(g in a.__args__)b.push(c[a.__args__[g]]||d.pop());return a.apply(null,b)}};g=j;c={version:0.2,templates:{},filters:{},globals:{},tests:{},registerGlobal:function(a,b){return this.globals[a]=
b},registerFilter:function(a,b){return this.filters[a]=b},registerTest:function(a,b){return this.tests[a]=b},getFilter:function(a){return this.filters[a]},registerTemplate:function(a,b){return this.templates[a]=b},getTemplate:function(a){return new this.templates[a]},utils:{to_string:function(a){return a?String(a):""},missing:void 0,format:function(a,b){var d;d=-1;return a.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd])/g,function(a,c,g,f,i,h){if("%%"===a)return"%";if(void 0!==b[++d]){a=
f?parseInt(f.substr(1)):void 0;i=i?parseInt(i.substr(1)):void 0;f=void 0;switch(h){case "s":f=b[d];break;case "c":f=b[d][0];break;case "f":f=parseFloat(b[d]).toFixed(a);break;case "p":f=parseFloat(b[d]).toPrecision(a);break;case "e":f=parseFloat(b[d]).toExponential(a);break;case "x":f=parseInt(b[d]).toString(i?i:16);break;case "d":f=parseFloat(parseInt(b[d],i?i:10).toPrecision(a)).toFixed(0)}f="object"===typeof f?JSON.stringify(f):f.toString(i);a=parseInt(g);for(g=g&&"0"===g[0]?"0":" ";f.length<a;)f=
void 0!==c?f+g:g+f;return f}})},loop:function(a,b){return{first:0===a,last:a===b-1,index:a+1,index0:a,revindex:b-a,revindex0:b-a-1,length:b,cycle:function(){return arguments[a%arguments.length]}}}},"extends":__extends,Template:h,Context:g};m.Jinja2=c;c.registerGlobal("range",function(){var a,b,d,c;c=b=d=void 0;a=[];switch(arguments.length){case 1:d=0;b=Math.floor(arguments[0])-1;c=1;break;case 2:case 3:d=Math.floor(arguments[0]),b=Math.floor(arguments[1])-1,c=arguments[2],"undefined"===typeof c&&
(c=1),c=Math.floor(c)}if(0<c)for(;d<=b;)a.push(d),d+=c;else if(0>c&&(c=-c,d>b))for(;d>b+1;)a.push(d),d-=c;return a});c.registerGlobal("dict",function(){var a;a=function(a){return a};a.__append_kwargs__=!0;return a}());c.registerGlobal("cycler",function(){var a;a={items:arguments,reset:function(){return a._setPos(0)},_setPos:function(b){a.pos=b;return a.current=a.items[b]},next:function(){var b;b=a.current;a._setPos((a.pos+1)%a.items.length);return b}};a.reset();return a});c.registerGlobal("joiner",
function(a){var b;a||(a=",");b=!1;return function(){if(b)return a;b=!0;return""}});c.registerFilter("length",function(a){return a.length});c.registerFilter("count",function(a){return a.length});c.registerFilter("indent",function(a,b,c){b||(b=4);b=b?Array(b+1).join(" "):"";return(c?a:a.replace(/\n$/,"")).replace(/\n/g,"\n"+b)});c.registerFilter("random",function(a,b){if(b)return b[Math.floor(Math.random()*b.length)]});c.registerFilter("last",function(a,b){if(b)return b[b.length-1]});c.registerFilter("first",
function(a,b){if(b)return b[0]});c.registerFilter("title",function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})});c.registerFilter("lower",function(a){return a.toLowerCase()});c.registerFilter("upper",function(a){return a.toUpperCase()});c.registerFilter("capitalize",function(a){return a.charAt(0).toUpperCase()+a.slice(1)});c.registerFilter("escape",function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,
"&quot;")});c.registerFilter("default",function(a,b,c){return c&&!a||void 0===a?b:a});c.registerFilter("truncate",function(a,b,c,e){b||(b=255);e||(e="...");if(a.length<=b)return a;if(c)return a.substring(0,b);a=a.substring(0,maxLength+1);a=a.substring(0,Math.min(a.length,a.lastIndexOf(" ")));return a+e});c.registerTest("callable",function(){return!(!obj||!obj.constructor||!obj.call||!obj.apply)});c.registerTest("odd",function(a){return 1===a%2});c.registerTest("even",function(a){return 0===a%2});
c.registerTest("divisibleby",function(a,b){return 0===a%b});c.registerTest("defined",function(a){return"undefined"!==typeof a});c.registerTest("undefined",function(a){return"undefined"===typeof a});c.registerTest("none",function(a){return null===a});c.registerTest("lower",function(a){return a===a.toLowerCase()});c.registerTest("upper",function(a){return a===a.toUpperCase()});c.registerTest("string",function(a){return"[object String]"===toString.call(a)});c.registerTest("mapping",function(a){return a===
Object(a)});c.registerTest("number",function(a){return"[object Number]"===toString.call(a)});c.registerTest("sequence",function(a){return"[object Array]"===toString.call(a)});c.registerTest("sameas",function(a,b){return a===b});c.registerTest("iterable",function(a){return"[object Array]"===toString.call(a)});c.registerTest("escaped",function(a){return 0<=o.call(a,"__html__")})}).call(this);
